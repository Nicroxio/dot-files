# Maintainer: Nicroxio <nic _at_ nicroxio dot co dot uk>
pkgname=ArchNic
pkgver=1.0.0
pkgrel=0
pkgdesc="Installs my .conf files and all deps required"
arch=("x86_64")
url="https://github.com/nicroxio/dot-files"
license=('GPL')
depends=("alacritty" "qtile""dmenu" "firefox" "python-pip", "python" "picom" "nitrogen" "pulseaudio" "lightdm-gtk-greeter" "lightdm-slick-greeter" "lightdm" "neovim" "keepassxc" "thunar" "restic" "ttf-terminus-nerd" "networkmanager" "flameshot" "code" "git" "python-psutil")
makedepends=("git")
source=("git+https://github.com/nicroxio/dot-files"
        "git+https://aur.archlinux.org/yay.git"
        "git+https://aur.archlinux.org/pacmixer.git"
        "git+https://aur.archlinux.org/nvchad-git.git"
        "git+https://aur.archlinux.org/shell-color-scripts.git")
sha256sums=("SKIP" "SKIP" "SKIP" "SKIP" "SKIP")


build() {
  cd ${srcdir}/yay
  makepkg -si
  cd ${srcdir}/pacmixer
  makepkg -si
  cd ${srcdir}/nvchad-git
  makepkg -si
  cd ${srcdir}/shell-color-scripts
  makepkg -si 
  pacman -Sy xorg alsa
}


package() {
  mkdir -p ${pkgdir}/home/${USER}/.config/
  cd ${srcdir}/dot-files/config/
  chown ${USER} alacritty.yml
  chown ${USER} starship.toml
  chown -R ${USER} qtile
  cp alacritty.yml ${pkgdir}/home/${USER}/.config/
  cp starship.toml ${pkgdir}/home/${USER}/.config/
  cp -rf qtile ${pkgdir}/home/${USER}/.config/
  cd ..
  chown ${USER} .bashrc
  cp .bashrc ${pkgdir}/home/${USER}/
}
